1. app.py

 API 라우트 통합

 동작 방식:

 업로드 이미지 → DB 검색

 원본 있음 → PSNR/SSIM 비교 → 결과

 원본 없음 → Exif/모델 분석 → 이상 없으면 원본 저장

 관리자 삭제 / 사용자 삭제 API 포함

 Heatmap 파일 반환 API

2. detection.py

 Torch/torchvision이 있으면 Xception 로드

 없으면 fallback (0.5 점수 반환)

 deepfake_model_detect(img) 함수 제공

3. metrics.py

 compute_psnr_ssim(orig, edited)

 save_diff_heatmap(orig, edited, save_path)

4. exif_utils.py

 Photoshop/Lightroom/Adobe 흔적 감지

 정상 필터/보정 → photoshop_edit 처리

5. db.py

 MySQL 테이블:

 user_images (원본)

 detection_results (탐지 결과)

 기본 CRUD, 관리자 삭제 기능